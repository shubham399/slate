
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Passetto v2</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#usages-of-passetto" class="toc-h1 toc-link" data-title="Usages of Passetto">Usages of Passetto</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create" class="toc-h2 toc-link" data-title="Usages of Passetto">Create</a>
                  </li>
                  <li>
                    <a href="#upload" class="toc-h2 toc-link" data-title="Usages of Passetto">Upload</a>
                  </li>
                  <li>
                    <a href="#update" class="toc-h2 toc-link" data-title="Usages of Passetto">Update</a>
                  </li>
                  <li>
                    <a href="#sign-string" class="toc-h2 toc-link" data-title="Usages of Passetto">Sign String</a>
                  </li>
                  <li>
                    <a href="#verify-string" class="toc-h2 toc-link" data-title="Usages of Passetto">Verify String</a>
                  </li>
                  <li>
                    <a href="#sign-xml" class="toc-h2 toc-link" data-title="Usages of Passetto">Sign XML</a>
                  </li>
                  <li>
                    <a href="#verify-xml" class="toc-h2 toc-link" data-title="Usages of Passetto">Verify XML</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Passetto, This is a service which provide service like create keypair,update keypair, encrypt/decrypt message, Sign and Verify String message and XML files.</p>

<blockquote>
<p>Use case of the APIs</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># An Example of Create</span>
curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id":"BHS1DB1TB10987654321",
"options":{"algo":"RSA"}
}'</span> http://localhost:8013/create

<span class="c"># An Example of Upload</span>
<span class="c"># NOTE: public key or certificate must be a base64 encoded message of the pem/crt</span>
<span class="c"># Need to provide one of key or certificate</span>
curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id":"BHS1DB1TB10987654321",
    "public":"&lt;some value optional&gt;",
    "certificate":"&lt;somevalue&gt;"}'</span> http://localhost:8013/upload

<span class="c"># An Example of SignString</span>
curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
    "id": "BHS1DB1TB10987654321",
    "alias": 3,
    "message": "test"
}'</span> http://localhost:8013/signString

<span class="c"># An Example of VerifyString</span>
curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id": "BHS1DB1TB10987654321",
    "alias":1,
    "message": "test",
    "sign": "VV2fbheP/hBiHEZ59OKKLuy0IgTxIOvbGZyYe0epYiLrxiUpsvpqTWxu6lm06mCkyunpbAgTSyPNejxrU+cEO3bIZvzV2CqOW4LXLKOTAual8IaX1pRR62sd+kDpeoJ5DIjo2doSp4hiIG+FqEzuaulS0zBETTDLY6R17jjR4D5LzYod7qgqDCxwgnGfv3fbbJVetgrhzYKG/RLQZCZx8Bz1CutczfpwbbSSqv2zhYzgI7ka+3U3lPq62mefPcdJ0UvKGOVvO6DrDnkcxkHA9HofqAzVXRt/LZGhVCSz3UFg7ThcZzZldrlMgzJ0XlpIHtyM91FPZahweyR4cvtvDA=="
}'</span> http://localhost:8013/verifyString

<span class="c"># An Example of SignXML</span>
curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id": "BHS1DB1TB10987654321",
    "alias":1,
    "xml": "&lt;note&gt;&lt;to&gt; Tove &lt;/to&gt; &lt;from&gt; Jani &lt;/from&gt; &lt;heading&gt; Reminder &lt;/heading&gt; &lt;body&gt; Do not forget me this weekend! &lt;/body&gt; &lt;/note&gt;",
  "ref": "body"
  }'</span> http://localhost:8013/signXML
</code></pre><h1 id='usages-of-passetto'>Usages of Passetto</h1><h2 id='create'>Create</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id":"BHS1DB1TB10987654321",
"options":{"algo":"RSA"}
}'</span> http://localhost:8013/create
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Number of keys"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Number of Certificates"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API let the User to generate a Keypair and Store it in the Passetto Database</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST http://localhost:8013/create</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>null</td>
<td>Need to Provide a 20 characters ID which need to map to the Database.</td>
</tr>
<tr>
<td>options</td>
<td>{&quot;algo&quot;:&quot;RSA&quot;}</td>
<td>Can be used to Provide different Algo for Key Supported RSA. DSA will be added soon</td>
</tr>
</tbody></table>
<h2 id='upload'>Upload</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span>
  -X POST
  -d <span class="s1">'{
    "id":"BHS1DB1TB10987654321",
    "public":"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF6SlFQbzdOdW4ycmtucktGWFJ1RgpuOUl3cmN3aC9CdFltSCs1eU41QlgxNXdRbGU1QnN3NjJmMUFsNnhDMDNPaC9nMEtCZmpvbDR0ZGxzMGRWUkFXCjVNekJyNEw0anJVNWVvcy9udGRPWnd3MzRsWjZNc25BLzM0a1J1ZmxCZnQ2OXhMb1NobVVMT2ROSVErS09ndzQKbmtwaUhlNm5nSXhRbXdrMmpyOUJPSTVYcjlyMk5mNlVudjJIdVc2SzRPcjZTUjliMU5xWXpySUhTK0dNU2RhdwpPeXR2b1FwY3dHZHNhM2FGRTBmc1crSURXOXMzT1Q1T3dhV3JWMzFhbTVkK0RKZ3BFSE5SMVI0LzlNZjFSNEthCmxpVHBIK056UVo1V1d1M1NpNmpjREo5RndkUFYxOWkxeFNaeXRGenVjb01UYTRaV1I5THNJRythR2dyQzNRUG0KN3dJREFRQUIKLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg=="
}'</span> http://localhost:8013/upload
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Number of keys"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Number of Certificates"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In This API we can upload our own public key or certificate to the server
<aside class="notice">
<strong>NOTE</strong> Make Sure You Send the Public Key or Certificate as base64 encoded string of the pem/crt file
</aside></p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST http://localhost:8013/upload</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>-</td>
<td>Need to Provide a 20 characters ID which need to map to the Database</td>
</tr>
<tr>
<td>public</td>
<td>null</td>
<td>base64 encoded public key pem file content</td>
</tr>
<tr>
<td>certificate</td>
<td>null</td>
<td>base64 encoded certificate file content</td>
</tr>
</tbody></table>
<h2 id='update'>Update</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id":"BHS1DB1TB10987654321",
"active": false
}'</span> http://localhost:8013/update
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Number of keys"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Number of Certificates"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API is used to Update the active state of a keystore</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://localhost:8013/update</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>An Existing id</td>
</tr>
<tr>
<td>active</td>
<td>either true or false</td>
</tr>
</tbody></table>
<h2 id='sign-string'>Sign String</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
"id":"BHS1DB1TB10987654321",
"alias":2,
"message":"Test Message"
}'</span> http://localhost:8013/signString
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alias"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Message"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W9SIR9XHpA4EEAIA5g2xRaugqNyd5OkYCpk6MBGHTyqBR6VwJAK4SJVzoCWK4bVx3pw2g7eBNOvhksxRjMk06iPLCM7pMottlgOGp41Vi/oGwLak0wEDkN4qNqqAgRgQJEaTJLL8o5YBd1nx2BlTuv9nOJSwK8dGnVpBcn6tMjQX2D6+QWrza88z0hvZeBs4fvoQUQuZZiYG4BoThN3T1v/8/neiwSYaMXxkLMN2jlkEOrzSyOV2Q1UCpKIqGOhdmGQCmsonKW/UU0SRp7r5RVSLhjoP3vFhdouS0QCngLKLn5dABdrzvSd6EIjk7Mxc/qM/0z/3B/IXwmvG5KjQaV5SFWneVESv84sOpgzUTdB9G+/rAay5sMZqpcyUby4RfQW6wuYb4hussqLdBTuUXsy9Romqju9PkiSTCZXoK3zxFRJTnfTl3zi1Y65ty3+tG22fre95o4zefW7xJy2veJCkv41eHYW2PYgNI8p9/RLK87OTBgvVjKqNiDJhMEZn+MoCkt662hJD0gckeIu4ffPQJYpxnHQUUVusIpEB66alswKjEUcjREO/7F5PNgNsRinmxQhSOsWthRIGus65ixosPDPFyzz3C0+2/RkOGvHLadz8E+tPcoiBcLqzXyuJmjSPjdZ9WC7kRuYWGoCeYHFX1MDWkvyyG43H3dwMxY4="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API is used to Sign a message using a key mapped from the ID and alias</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST http://localhost:8013/signString</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>An Existing id</td>
</tr>
<tr>
<td>alias</td>
<td>A Valid alias</td>
</tr>
<tr>
<td>message</td>
<td>A string message which need to be signed</td>
</tr>
</tbody></table>
<h2 id='verify-string'>Verify String</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
    "id": "BHS1DB1TB10987654321",
    "alias": 2,
    "message": "Test Message",
    "sign": "W9SIR9XHpA4EEAIA5g2xRaugqNyd5OkYCpk6MBGHTyqBR6VwJAK4SJVzoCWK4bVx3pw2g7eBNOvhksxRjMk06iPLCM7pMottlgOGp41Vi/oGwLak0wEDkN4qNqqAgRgQJEaTJLL8o5YBd1nx2BlTuv9nOJSwK8dGnVpBcn6tMjQX2D6+QWrza88z0hvZeBs4fvoQUQuZZiYG4BoThN3T1v/8/neiwSYaMXxkLMN2jlkEOrzSyOV2Q1UCpKIqGOhdmGQCmsonKW/UU0SRp7r5RVSLhjoP3vFhdouS0QCngLKLn5dABdrzvSd6EIjk7Mxc/qM/0z/3B/IXwmvG5KjQaV5SFWneVESv84sOpgzUTdB9G+/rAay5sMZqpcyUby4RfQW6wuYb4hussqLdBTuUXsy9Romqju9PkiSTCZXoK3zxFRJTnfTl3zi1Y65ty3+tG22fre95o4zefW7xJy2veJCkv41eHYW2PYgNI8p9/RLK87OTBgvVjKqNiDJhMEZn+MoCkt662hJD0gckeIu4ffPQJYpxnHQUUVusIpEB66alswKjEUcjREO/7F5PNgNsRinmxQhSOsWthRIGus65ixosPDPFyzz3C0+2/RkOGvHLadz8E+tPcoiBcLqzXyuJmjSPjdZ9WC7kRuYWGoCeYHFX1MDWkvyyG43H3dwMxY4="
}'</span> http://localhost:8013/verifyString
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alias"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API is used to verify the Signed  message using a key mapped from the ID and alias</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST http://localhost:8013/verifyString</code></p>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>An Existing id</td>
</tr>
<tr>
<td>alias</td>
<td>A Valid alias</td>
</tr>
<tr>
<td>message</td>
<td>A string message which need to be signed</td>
</tr>
<tr>
<td>sign</td>
<td>A base64 encoded sign for the above message</td>
</tr>
</tbody></table>
<h2 id='sign-xml'>Sign XML</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
  "id": "BHS1DB1TB10987654321",
  "alias": 2,
  "xml": "&lt;note&gt;&lt;to&gt; Tove &lt;/to&gt; &lt;from&gt; Jani &lt;/from&gt; &lt;heading&gt; Reminder &lt;/heading&gt; &lt;body&gt; Do not forget me this weekend! &lt;/body&gt; &lt;/note&gt;",
  "ref": "body"
}'</span> http://localhost:8013/signXML
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alias"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signedxml"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;note&gt;&lt;to&gt; Tove &lt;/to&gt; &lt;from&gt; Jani &lt;/from&gt; &lt;heading&gt; Reminder &lt;/heading&gt; &lt;body Id=</span><span class="se">\"</span><span class="s2">_0</span><span class="se">\"</span><span class="s2">&gt; Do not forget me this weekend! &lt;/body&gt; &lt;Signature xmlns=</span><span class="se">\"</span><span class="s2">http://www.w3.org/2000/09/xmldsig#</span><span class="se">\"</span><span class="s2">&gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm=</span><span class="se">\"</span><span class="s2">http://www.w3.org/2001/10/xml-exc-c14n#</span><span class="se">\"</span><span class="s2">/&gt;&lt;SignatureMethod Algorithm=</span><span class="se">\"</span><span class="s2">http://www.w3.org/2000/09/xmldsig#rsa-sha1</span><span class="se">\"</span><span class="s2">/&gt;&lt;Reference URI=</span><span class="se">\"</span><span class="s2">#_0</span><span class="se">\"</span><span class="s2">&gt;&lt;Transforms&gt;&lt;Transform Algorithm=</span><span class="se">\"</span><span class="s2">http://www.w3.org/2001/10/xml-exc-c14n#</span><span class="se">\"</span><span class="s2">/&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=</span><span class="se">\"</span><span class="s2">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s2">/&gt;&lt;DigestValue&gt;TKFtEaWXEB7wW+250TNEAWBT5Ts=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;Gh7rlCbOutwLsIn3B03ui/jn4aA+30Bq/Uf7xrgk/t3xuMlvhGe1nsFd/mQO7ijCJU9fclCaUd48P+iGq/MuMdoOjZIF4L3i/ddCmP2g29zRKbOgswYqIfBiP4ValBnGN9jF1pkcSr0CkOt/nWwtUrbR046h9IlHHQpfENoLFRkw6F9iRbtoy+dYzXX4dmko/l11PIPa+dXph5eY5ogtsqgfNq5uH4F0c+MW7peE3rOAtdL644dT3/H9Wmonygjju8O99Awbj30B0aHupnWen7NbqDBlLqToO8FQzScI1aEGPJgYbkFBu9/89qmtZAbRJb0k7W4W1aqzQRvzMNqT6aZaxLTBf7yuEQoS93ehKFG380vVmS+IagHgsNpActomxZIwEb43nuEQ/5AGXX87PCJGtQgqZRb7HDkU9gaMj09L1xBU1JOAqjXHDaNFQXVHfzd0mska7gxYniytbj5Ulej/MsSXID0jMWiJWlcw4xQmfUgBROSGLiA8Oy4ZKD+ow2cAaoOLyfFILBzDRD4l3F3VVEaNW2b7PNVZqbuev1Uu9qXtJy6baOqPtIqGzt49wGs7F0vSBuDvo33z92bxV5b3U6a2YNa9RiX1Is3EHMNTTzxekvuhmCcAqtxvSl8F2AQajjKZ6t1BE3hUxA5nbvwh8MH+Dg6EETEq35610a0=&lt;/SignatureValue&gt;&lt;/Signature&gt;&lt;/note&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API is used to sign a XML document part</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST http://localhost:8013/signXML</code></p>
<h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>An Existing id</td>
</tr>
<tr>
<td>alias</td>
<td>A Valid alias</td>
</tr>
<tr>
<td>message</td>
<td>A XML message which need to be signed</td>
</tr>
</tbody></table>
<h2 id='verify-xml'>Verify XML</h2><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
    "id": "BHS1DB1TB10987654321",
    "alias": 2,
    "signedxml": "&lt;note&gt;&lt;to&gt; Tove &lt;/to&gt; &lt;from&gt; Jani &lt;/from&gt; &lt;heading&gt; Reminder &lt;/heading&gt; &lt;body Id=\"_0\"&gt; Do not forget me this weekend! &lt;/body&gt; &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;&lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;&lt;Reference URI=\"#_0\"&gt;&lt;Transforms&gt;&lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/&gt;&lt;DigestValue&gt;TKFtEaWXEB7wW+250TNEAWBT5Ts=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;Gh7rlCbOutwLsIn3B03ui/jn4aA+30Bq/Uf7xrgk/t3xuMlvhGe1nsFd/mQO7ijCJU9fclCaUd48P+iGq/MuMdoOjZIF4L3i/ddCmP2g29zRKbOgswYqIfBiP4ValBnGN9jF1pkcSr0CkOt/nWwtUrbR046h9IlHHQpfENoLFRkw6F9iRbtoy+dYzXX4dmko/l11PIPa+dXph5eY5ogtsqgfNq5uH4F0c+MW7peE3rOAtdL644dT3/H9Wmonygjju8O99Awbj30B0aHupnWen7NbqDBlLqToO8FQzScI1aEGPJgYbkFBu9/89qmtZAbRJb0k7W4W1aqzQRvzMNqT6aZaxLTBf7yuEQoS93ehKFG380vVmS+IagHgsNpActomxZIwEb43nuEQ/5AGXX87PCJGtQgqZRb7HDkU9gaMj09L1xBU1JOAqjXHDaNFQXVHfzd0mska7gxYniytbj5Ulej/MsSXID0jMWiJWlcw4xQmfUgBROSGLiA8Oy4ZKD+ow2cAaoOLyfFILBzDRD4l3F3VVEaNW2b7PNVZqbuev1Uu9qXtJy6baOqPtIqGzt49wGs7F0vSBuDvo33z92bxV5b3U6a2YNa9RiX1Is3EHMNTTzxekvuhmCcAqtxvSl8F2AQajjKZ6t1BE3hUxA5nbvwh8MH+Dg6EETEq35610a0=&lt;/SignatureValue&gt;&lt;/Signature&gt;&lt;/note&gt;"
}'</span> http://localhost:8013/verifyXML
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BHS1DB1TB10987654321"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alias"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API is used to verify a Signed XML document</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST http://localhost:8013/verifyXML</code></p>
<h3 id='parameters-5'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>An Existing id</td>
</tr>
<tr>
<td>alias</td>
<td>A Valid alias</td>
</tr>
<tr>
<td>signedxml</td>
<td>A signed XML content</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<!--
<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files...just save them to the `includes` folder and add them to the top of your `index.md`'s frontmatter. Files are included in the order listed.</aside>
-->

<p>The Passetto API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Invalid ID -- The ID you provided is Invalid</td>
</tr>
<tr>
<td>401</td>
<td>Invalid Alias -- The Alias was invalid or not Found</td>
</tr>
<tr>
<td>402</td>
<td>Invalid Message -- The Message you provided was not in the expected format</td>
</tr>
<tr>
<td>403</td>
<td>Invalid XML  -- The XML you Provided is Invalid.</td>
</tr>
<tr>
<td>404</td>
<td>Invalid Reference -- The Reference to Sign the XML is Invalid.</td>
</tr>
<tr>
<td>405</td>
<td>Invalid Sign String -- The Sign  Provided to Verify String is Invalid</td>
</tr>
<tr>
<td>406</td>
<td>Invalid Sign XML -- The Sign Provided to Verify XML is Invalid</td>
</tr>
<tr>
<td>407</td>
<td>Private Key Null -- Private Key for the given ID and alias is null.</td>
</tr>
<tr>
<td>408</td>
<td>Invalid Key Format -- Invalid Public Key</td>
</tr>
<tr>
<td>409</td>
<td>Database Connection Error -- There was error in Database validation</td>
</tr>
<tr>
<td>410</td>
<td>ID Inactive -- The ID requested is Inactive</td>
</tr>
<tr>
<td>411</td>
<td>Public Key already exist --  The Public Key Uploaded already exist</td>
</tr>
<tr>
<td>412</td>
<td>Certificate already exist -- The Certificate Uploaded already exist</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
